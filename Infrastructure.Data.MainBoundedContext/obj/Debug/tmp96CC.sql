CREATE TABLE [dbo].[NSTemplateInfo] (
    [Id] [uniqueidentifier] NOT NULL,
    [TemplateName] [nvarchar](250),
    [TemplateText] [nvarchar](max),
    [TempalteVersion] [nvarchar](max),
    [CreateTime] [nvarchar](max),
    [IsActive] [bit] NOT NULL,
    [TemplateType] [nvarchar](max),
    CONSTRAINT [PK_dbo.NSTemplateInfo] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[NSTemplateType] (
    [Id] [uniqueidentifier] NOT NULL,
    [TemplateType] [nvarchar](max),
    [TemplateDes] [nvarchar](max),
    [Version] [nvarchar](max),
    [Status] [int],
    CONSTRAINT [PK_dbo.NSTemplateType] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[NSTaskInfo] (
    [Id] [uniqueidentifier] NOT NULL,
    [TaskId] [uniqueidentifier] NOT NULL,
    [TaskName] [nvarchar](max),
    [TaskType] [nvarchar](max),
    [TemplateId] [nvarchar](max),
    [RunState] [nvarchar](max),
    CONSTRAINT [PK_dbo.NSTaskInfo] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[NSInstanceInfo] (
    [Id] [uniqueidentifier] NOT NULL,
    [InstanceName] [nvarchar](max),
    [TemplateName] [nvarchar](max),
    [TemplateId] [uniqueidentifier] NOT NULL,
    [StartTime] [datetime] NOT NULL,
    [RunState] [nvarchar](max),
    CONSTRAINT [PK_dbo.NSInstanceInfo] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[NSNodeInfo] (
    [Id] [uniqueidentifier] NOT NULL,
    [NodeName] [nvarchar](max),
    [NodeDes] [nvarchar](max),
    [TransUserNo] [nvarchar](max),
    [CreateTime] [datetime] NOT NULL,
    [SubmitTime] [datetime] NOT NULL,
    [SubmitResult] [nvarchar](max),
    [SubmitOptions] [nvarchar](max),
    [SubmitUserNo] [nvarchar](max),
    [RunState] [nvarchar](max),
    [ParentId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.NSNodeInfo] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](255) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId])
)
BEGIN TRY
    EXEC sp_MS_marksystemobject 'dbo.__MigrationHistory'
END TRY
BEGIN CATCH
END CATCH
INSERT INTO [__MigrationHistory] ([MigrationId], [Model], [ProductVersion]) VALUES ('201309051245058_AutomaticMigration', 0x1F8B0800000000000400DD5BCB6EE33614DD17E83F185AB58BB13C290A640A7B0689930C8CD6CE20CA4CD7B444274424CA2352A9FD6D5DF493FA0BBDD493A2285B2F3FD2556C3ECEBD24CFA5AEAE4FFEFDFB9FF1A78DE70E5E71C0884F27C6FBE1C818606AFB0EA14F1323E4AB7797C6A78F3FFE30BE75BCCDE05B3AEE428C8399944D8C67CED7BF9926B39FB187D8D02376E0337FC587B6EF99C8F1CD8BD1E8D27C3F323140188035188C1F42CA8987A32FF075EA531BAF7988DCB9EF609725EDD06345A88305F2305B231B4F8C195D0588F120B47918E0E10DE2683847845EFB2175B003501C6FF8F02B25FC7EF5A71FBC18832B972070D4C2EEAAA1D7A30FC26B23F3073CBA05CFF9F671BBC691571363613D626FED228EC1355F1E0BA37FC7DB4203347D09FC350EF8F601AF128499630CCCE23C539D984D93E6082726C6E790C0E745E8BA68E9C2F71572192E012AD35397C5B714C8E2019CBA31B8231BECFC81E9137FCED0E66893B65CFC0A670FDB0B248149701058B61E7FAF67FC110EAAA171F8D88371E4729C70F9E8F6A701164B278DF7BDBBE919BBB23979CD0C5FFBBE8B116D4D1E8172E0458CCD3CDE6A4661E4D5DB8AC2236C64B5F11BCC8E6EFB54C16771C4C36CB933CA7FB9E88F7F88BDBCA5278070B73B448B07480FD405C3278D997CE38E661A5226C1DE33BA706794710489DB1B227DEAF26958DB3EE73A04735B6D205030E072F2729325330D91CE8FCF0B807C435C16EE9E844AC2F0299286C70051F695E160E19F41D6DE9AF856B8F4483F3114433D6016BAC77F918A8DDFAF392472C727436CFD446C38D2DD5536FC050598F24617C7EE0B50944B10A138480C884A8A289AAC5CFF2FA98452742A9E6A61AEAD800017728B71D565A8D448D45556030A8CDD80711EB80F90A5D97905589ABBEF0792B31E3D58212FDABFD4F4B1A307CB1E4ADA43CD8E2FAF989971C92C2DAD9915B5B5F11CADD7405AA9D696B40CACB8D0367D6735AF9679318669334DD12CF336B3C4FD003D61A5174C83A77724605C54F79648507AEA78A561CDC89A1AD573567DC4E74791CE139FD32CB2610952E5BF622CDFFB3BD80E0F223CDA199CB9BEBBC8984058367251A0C931A6BE1B7AB42A4FD935BB98B1CA38C59EE68871E94F8718F734432CD4F354D042677D5CF9892F43CAEDF5D1F2D25BE134B2D6163B18DD7BDA1DD4DC88119EA9B04CE5BC5922BD92D1AAB1D430D2E2CBFC589156AE0346E6EA479A1EE0B091D6FC54F7214699BA0E30EAA88FA78DAF16719596E06498B4ED7C382BE50B07E7ABB66E1899AAC1D5CAC907E26952352C102A696B86A279A664ADCD90343193B5368F97D2EAA4F6FA68F91B828C95B79E11D38B09EDA1D95E5D348CCCED67FC6E80C3B0BE58362CE0147ACE21B3EA87BF529D4FB9A8D3E6FF632C48EF62878E037DB13132B53F06AA271F86FF79A951C6C85B9B21953292ACB101DBE55A6081EE72C7A9B27DB9C457081FA9BD295A5AE52BE3A53D4D11B3D25D1932EB6A8AA93B9262CF21EF8D2AA4BC6C2623E5AD47BE814AD51B7548663DABE228D59A715239D92F972A9552E221C600B6E89538A28C626D19C75E7C6D59DFDDA94B60BDF98039A26485197FF45FB0907E8D4697ED25551FCCD1859054998C39EE79EBAA424ABE871876001C5B111CF4A2B1A2AF28B09F51505654759750A5D83F7968F3734FB2A84E98E51F4D3AC1A9F2A525E1BD286E1A38F566E448BD91B7E54655034ABF1C76C2EB93A8455910A1BC3F169C4C14D49D010581502F70BA9BB01D991401502FCCCC17DB094EFD71F030D7CB69C5379DD9A013E2F47288BD03F6B8E89278C6017CDE8778E6301C3B9D20A6F356ABE2984E5450042FDD685516B1F49C63B526555998D211AA284CE9F684D6894D7A40ECF1243AC464194C157A340C8866A28FF2CFED15E532FD9BD97EB947FCCE097C5A8AAD8EBDEE2409A9A108D96DB39E6A44D285EC148D54D8AA2D2A5124237B35257A7B2D75277B64277A5B9D6529E502C6D894FF2B6C0C172E79CA21C4FF88516C8BF8CF41D331C29334806089B247E91025BEE69823B8DDD05500F1846C0EDD36662C52717D436E08436EBD257666F43EE4EB905F3186BDA5BB95D73B3677DB8FB437459FC7C90DD6C712C04D222EE87B7A1D12D7C9FCBED35C07151022F03F636847C22B8BC35FFCB4CD90163EAD09946CDF0D5E632AEEA834CCD83DB5907863AFF26DFF1E16776C7C43D053803C9660E4F3E12BD0CFF1361FFF031796C10DD7380000, '5.0.0.net40')
